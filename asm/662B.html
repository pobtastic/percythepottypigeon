<!DOCTYPE html>
<html>
<head>
<title>Percy the Potty Pigeon: Routine at 662B</title>
<meta charset="utf-8" />
<link rel="stylesheet" type="text/css" href="../skoolkit.css" />
<link rel="stylesheet" type="text/css" href="../skoolkit-dark.css" />
<link rel="stylesheet" type="text/css" href="../skoolkit-wide.css" />
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-75RERFCHBG"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-75RERFCHBG');
</script>
</head>
<body class="Asm-c">
<table class="header">
<tr>
<td class="logo"><a href="../index.html"><img alt="logo" src="../images/logo.png" /></a></td>
<td class="page-header">Routines</td>
</tr>
</table>
<table class="asm-navigation">
<tr>
<td class="prev">
Prev: <a href="6621.html">6621</a>
</td>
<td class="up">Up: <a href="../maps/all.html#662b">Map</a></td>
<td class="next">
Next: <a href="679C.html">679C</a>
</td>
</tr>
</table>
<div class="description">662B: Compute Sprite Position?</div>
<table class="disassembly">
<tr>
<td class="routine-comment" colspan="5">
<div class="details">
<div class="paragraph">
Used by the routine at <a href="6992.html">Run_Game_Frame</a>.
</div>
</div>
</td>
</tr>
<tr>
<td class="asm-label">Compute_Sprite_Position</td>
<td class="address-2"><span id="662b"></span>662B</td>
<td class="instruction">LD IX,$DAC0</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="662f"></span>662F</td>
<td class="instruction">LD B,$08</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="6631"></span>6631</td>
<td class="instruction">LD A,(IX+$01)</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="6634"></span>6634</td>
<td class="instruction">ADD A,B</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="6635"></span>6635</td>
<td class="instruction">RLCA</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="6636"></span>6636</td>
<td class="instruction">RLCA</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="6637"></span>6637</td>
<td class="instruction">AND $E0</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="6639"></span>6639</td>
<td class="instruction">LD E,A</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="663a"></span>663A</td>
<td class="instruction">LD A,(IX+$00)</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="663d"></span>663D</td>
<td class="instruction">INC A</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="663e"></span>663E</td>
<td class="instruction">INC A</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="663f"></span>663F</td>
<td class="instruction">RRCA</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="6640"></span>6640</td>
<td class="instruction">RRCA</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="6641"></span>6641</td>
<td class="instruction">RRCA</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="6642"></span>6642</td>
<td class="instruction">AND $1F</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="6644"></span>6644</td>
<td class="instruction">OR E</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="6645"></span>6645</td>
<td class="instruction">LD E,A</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="6646"></span>6646</td>
<td class="instruction">LD A,($5FA5)</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="6649"></span>6649</td>
<td class="instruction">OR A</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="664a"></span>664A</td>
<td class="instruction">JR NZ,<a href="662B.html#664d">Compute_Sprite_Position_0</a></td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="664c"></span>664C</td>
<td class="instruction">INC E</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label">Compute_Sprite_Position_0</td>
<td class="address-2"><span id="664d"></span>664D</td>
<td class="instruction">LD HL,($5FB5)</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="6650"></span>6650</td>
<td class="instruction">LD A,($5FB1)</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="6653"></span>6653</td>
<td class="instruction">INC A</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="6654"></span>6654</td>
<td class="instruction">LD C,A</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label">Compute_Sprite_Position_1</td>
<td class="address-2"><span id="6655"></span>6655</td>
<td class="instruction">LD A,(HL)</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="6656"></span>6656</td>
<td class="instruction">CP $1E</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="6658"></span>6658</td>
<td class="instruction">JR Z,<a href="662B.html#667b">Compute_Sprite_Position_4</a></td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="665a"></span>665A</td>
<td class="instruction">INC HL</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="665b"></span>665B</td>
<td class="instruction">LD A,(HL)</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="665c"></span>665C</td>
<td class="instruction">CP $1F</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="665e"></span>665E</td>
<td class="instruction">JR Z,<a href="662B.html#667c">Compute_Sprite_Position_5</a></td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="6660"></span>6660</td>
<td class="instruction">INC HL</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="6661"></span>6661</td>
<td class="instruction">LD A,(HL)</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="6662"></span>6662</td>
<td class="instruction">INC HL</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="6663"></span>6663</td>
<td class="instruction">CP C</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="6664"></span>6664</td>
<td class="instruction">JR NC,<a href="662B.html#667e">Compute_Sprite_Position_6</a></td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="6666"></span>6666</td>
<td class="instruction">LD A,(HL)</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="6667"></span>6667</td>
<td class="instruction">CP E</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="6668"></span>6668</td>
<td class="instruction">JR Z,<a href="662B.html#66a8">Compute_Sprite_Position_10</a></td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label">Compute_Sprite_Position_2</td>
<td class="address-2"><span id="666a"></span>666A</td>
<td class="instruction">PUSH HL</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="666b"></span>666B</td>
<td class="instruction">PUSH BC</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="666c"></span>666C</td>
<td class="instruction">PUSH DE</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="666d"></span>666D</td>
<td class="instruction">LD L,(HL)</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="666e"></span>666E</td>
<td class="instruction">LD H,$F0</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="6670"></span>6670</td>
<td class="instruction">CALL <a href="662B.html#6683">Compute_Sprite_Position_7</a></td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="6673"></span>6673</td>
<td class="instruction">POP DE</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="6674"></span>6674</td>
<td class="instruction">POP BC</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="6675"></span>6675</td>
<td class="instruction">POP HL</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label">Compute_Sprite_Position_3</td>
<td class="address-2"><span id="6676"></span>6676</td>
<td class="instruction">INC HL</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="6677"></span>6677</td>
<td class="instruction">DJNZ <a href="662B.html#6655">Compute_Sprite_Position_1</a></td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="6679"></span>6679</td>
<td class="instruction">JR <a href="662B.html#66e1">Compute_Sprite_Position_11</a></td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label">Compute_Sprite_Position_4</td>
<td class="address-2"><span id="667b"></span>667B</td>
<td class="instruction">INC HL</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label">Compute_Sprite_Position_5</td>
<td class="address-2"><span id="667c"></span>667C</td>
<td class="instruction">INC HL</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="667d"></span>667D</td>
<td class="instruction">INC HL</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label">Compute_Sprite_Position_6</td>
<td class="address-2"><span id="667e"></span>667E</td>
<td class="instruction">INC HL</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="667f"></span>667F</td>
<td class="instruction">DJNZ <a href="662B.html#6655">Compute_Sprite_Position_1</a></td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="6681"></span>6681</td>
<td class="instruction">JR <a href="662B.html#66e1">Compute_Sprite_Position_11</a></td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label">Compute_Sprite_Position_7</td>
<td class="address-2"><span id="6683"></span>6683</td>
<td class="instruction">LD DE,$A7C3</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="6686"></span>6686</td>
<td class="instruction">LD A,($5FB4)</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="6689"></span>6689</td>
<td class="instruction">RRCA</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="668a"></span>668A</td>
<td class="instruction">LD ($5FB4),A</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="668d"></span>668D</td>
<td class="instruction">JR C,<a href="662B.html#6692">Compute_Sprite_Position_8</a></td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="668f"></span>668F</td>
<td class="instruction">LD DE,$A7CB</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="routine-comment" colspan="5">
<span id="6692"></span>
<div class="comments">
<div class="paragraph">
This entry point is used by the routines at <a href="65EA.html">DrawNestChicks</a> and <a href="6832.html">Update_State_Counters</a>.
</div>
</div>
</td>
</tr>
<tr>
<td class="asm-label">Compute_Sprite_Position_8</td>
<td class="address-2"><span id="6692"></span>6692</td>
<td class="instruction">LD B,$08</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="6694"></span>6694</td>
<td class="instruction">PUSH HL</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label">Compute_Sprite_Position_9</td>
<td class="address-2"><span id="6695"></span>6695</td>
<td class="instruction">LD A,(DE)</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="6696"></span>6696</td>
<td class="instruction">LD (HL),A</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="6697"></span>6697</td>
<td class="instruction">INC H</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="6698"></span>6698</td>
<td class="instruction">INC DE</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="6699"></span>6699</td>
<td class="instruction">DJNZ <a href="662B.html#6695">Compute_Sprite_Position_9</a></td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="669b"></span>669B</td>
<td class="instruction">POP HL</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="669c"></span>669C</td>
<td class="instruction">LD A,H</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="669d"></span>669D</td>
<td class="instruction">RRCA</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="669e"></span>669E</td>
<td class="instruction">RRCA</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="669f"></span>669F</td>
<td class="instruction">RRCA</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="66a0"></span>66A0</td>
<td class="instruction">AND $03</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="66a2"></span>66A2</td>
<td class="instruction">OR $F8</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="66a4"></span>66A4</td>
<td class="instruction">LD H,A</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="66a5"></span>66A5</td>
<td class="instruction">LD (HL),$03</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="66a7"></span>66A7</td>
<td class="instruction">RET</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label">Compute_Sprite_Position_10</td>
<td class="address-2"><span id="66a8"></span>66A8</td>
<td class="instruction">LD A,(IX+$01)</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="66ab"></span>66AB</td>
<td class="instruction">CP $79</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="66ad"></span>66AD</td>
<td class="instruction">JR C,<a href="662B.html#666a">Compute_Sprite_Position_2</a></td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="66af"></span>66AF</td>
<td class="instruction">LD A,($5FAA)</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="66b2"></span>66B2</td>
<td class="instruction">OR A</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="66b3"></span>66B3</td>
<td class="instruction">JR NZ,<a href="662B.html#666a">Compute_Sprite_Position_2</a></td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="66b5"></span>66B5</td>
<td class="instruction">OR $FF</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="66b7"></span>66B7</td>
<td class="instruction">LD ($5FAA),A</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="66ba"></span>66BA</td>
<td class="instruction">PUSH DE</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="66bb"></span>66BB</td>
<td class="instruction">PUSH BC</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="66bc"></span>66BC</td>
<td class="instruction">PUSH HL</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="66bd"></span>66BD</td>
<td class="instruction">DEC HL</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="66be"></span>66BE</td>
<td class="instruction">DEC HL</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="66bf"></span>66BF</td>
<td class="instruction">DEC HL</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="66c0"></span>66C0</td>
<td class="instruction">LD (HL),$1E</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="66c2"></span>66C2</td>
<td class="instruction">PUSH IX</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="66c4"></span>66C4</td>
<td class="instruction">LD DE,$0064</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="66c7"></span>66C7</td>
<td class="instruction">LD HL,$00C8</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="66ca"></span>66CA</td>
<td class="instruction">CALL $03B5</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="66cd"></span>66CD</td>
<td class="instruction">LD HL,$0064</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="66d0"></span>66D0</td>
<td class="instruction">LD DE,$0064</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="66d3"></span>66D3</td>
<td class="instruction">CALL $03B5</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="66d6"></span>66D6</td>
<td class="instruction">POP IX</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="66d8"></span>66D8</td>
<td class="instruction">POP HL</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="66d9"></span>66D9</td>
<td class="instruction">POP BC</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="66da"></span>66DA</td>
<td class="instruction">POP DE</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="66db"></span>66DB</td>
<td class="instruction">XOR A</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="66dc"></span>66DC</td>
<td class="instruction">LD ($5FA9),A</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="66df"></span>66DF</td>
<td class="instruction">JR <a href="662B.html#6676">Compute_Sprite_Position_3</a></td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label">Compute_Sprite_Position_11</td>
<td class="address-2"><span id="66e1"></span>66E1</td>
<td class="instruction">LD A,($5FAA)</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="66e4"></span>66E4</td>
<td class="instruction">OR A</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="66e5"></span>66E5</td>
<td class="instruction">RET Z</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="66e6"></span>66E6</td>
<td class="instruction">LD A,(IX+$01)</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="66e9"></span>66E9</td>
<td class="instruction">CP $8F</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="66eb"></span>66EB</td>
<td class="instruction">JR C,<a href="662B.html#66f4">Compute_Sprite_Position_12</a></td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="66ed"></span>66ED</td>
<td class="instruction">LD A,($5FAC)</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="66f0"></span>66F0</td>
<td class="instruction">OR A</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="66f1"></span>66F1</td>
<td class="instruction">JP NZ,<a href="679C.html">CollectItem</a></td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label">Compute_Sprite_Position_12</td>
<td class="address-2"><span id="66f4"></span>66F4</td>
<td class="instruction">LD A,(IX+$01)</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="66f7"></span>66F7</td>
<td class="instruction">CP $8D</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="66f9"></span>66F9</td>
<td class="instruction">JR NC,<a href="662B.html#6700">Compute_Sprite_Position_13</a></td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="66fb"></span>66FB</td>
<td class="instruction">OR $FF</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="66fd"></span>66FD</td>
<td class="instruction">LD ($5FAC),A</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label">Compute_Sprite_Position_13</td>
<td class="address-2"><span id="6700"></span>6700</td>
<td class="instruction">LD A,($5FA5)</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="6703"></span>6703</td>
<td class="instruction">OR A</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="6704"></span>6704</td>
<td class="instruction">JR NZ,<a href="662B.html#670a">Compute_Sprite_Position_14</a></td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="6706"></span>6706</td>
<td class="instruction">ADD A,$0C</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="6708"></span>6708</td>
<td class="instruction">JR <a href="662B.html#670c">Compute_Sprite_Position_15</a></td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label">Compute_Sprite_Position_14</td>
<td class="address-2"><span id="670a"></span>670A</td>
<td class="instruction">LD A,$FB</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label">Compute_Sprite_Position_15</td>
<td class="address-2"><span id="670c"></span>670C</td>
<td class="instruction">ADD A,(IX+$00)</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="670f"></span>670F</td>
<td class="instruction">LD (IX+$20),A</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="6712"></span>6712</td>
<td class="instruction">LD A,(IX+$01)</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="6715"></span>6715</td>
<td class="instruction">ADD A,$04</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="6717"></span>6717</td>
<td class="instruction">LD (IX+$21),A</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="671a"></span>671A</td>
<td class="instruction">LD C,$0D</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="671c"></span>671C</td>
<td class="instruction">LD A,($5FB4)</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="671f"></span>671F</td>
<td class="instruction">RRCA</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="6720"></span>6720</td>
<td class="instruction">LD ($5FB4),A</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="6723"></span>6723</td>
<td class="instruction">JR C,<a href="662B.html#6726">Compute_Sprite_Position_16</a></td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="6725"></span>6725</td>
<td class="instruction">INC C</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label">Compute_Sprite_Position_16</td>
<td class="address-2"><span id="6726"></span>6726</td>
<td class="instruction">LD (IX+$23),C</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="6729"></span>6729</td>
<td class="instruction">LD A,($5FAD)</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="672c"></span>672C</td>
<td class="instruction">OR A</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="672d"></span>672D</td>
<td class="instruction">JR NZ,<a href="662B.html#6736">Compute_Sprite_Position_17</a></td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="672f"></span>672F</td>
<td class="instruction">LD A,(IX+$01)</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="6732"></span>6732</td>
<td class="instruction">CP $90</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="6734"></span>6734</td>
<td class="instruction">JR C,<a href="662B.html#673e">Compute_Sprite_Position_18</a></td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label">Compute_Sprite_Position_17</td>
<td class="address-2"><span id="6736"></span>6736</td>
<td class="instruction">LD A,(IX+$21)</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="6739"></span>6739</td>
<td class="instruction">SUB $04</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="673b"></span>673B</td>
<td class="instruction">LD (IX+$21),A</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label">Compute_Sprite_Position_18</td>
<td class="address-2"><span id="673e"></span>673E</td>
<td class="instruction">LD A,($5FC5)</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="6741"></span>6741</td>
<td class="instruction">CP $06</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="6743"></span>6743</td>
<td class="instruction">RET NZ</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="6744"></span>6744</td>
<td class="instruction">LD A,(IX+$01)</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="6747"></span>6747</td>
<td class="instruction">CP $11</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="6749"></span>6749</td>
<td class="instruction">RET C</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="674a"></span>674A</td>
<td class="instruction">CP $21</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="674c"></span>674C</td>
<td class="instruction">RET NC</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="674d"></span>674D</td>
<td class="instruction">LD A,(IX+$00)</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="6750"></span>6750</td>
<td class="instruction">CP $6B</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="6752"></span>6752</td>
<td class="instruction">RET NC</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="6753"></span>6753</td>
<td class="instruction">LD A,($5FA5)</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="6756"></span>6756</td>
<td class="instruction">OR A</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="6757"></span>6757</td>
<td class="instruction">RET Z</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="6758"></span>6758</td>
<td class="instruction">LD BC,$0160</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="675b"></span>675B</td>
<td class="instruction">LD HL,$DE9E</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label">Compute_Sprite_Position_19</td>
<td class="address-2"><span id="675e"></span>675E</td>
<td class="instruction">LD A,$1E</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="6760"></span>6760</td>
<td class="instruction">CP (HL)</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="6761"></span>6761</td>
<td class="instruction">JR Z,<a href="662B.html#676a">Compute_Sprite_Position_20</a></td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="6763"></span>6763</td>
<td class="instruction">INC HL</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="6764"></span>6764</td>
<td class="instruction">DEC BC</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="6765"></span>6765</td>
<td class="instruction">LD A,C</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="6766"></span>6766</td>
<td class="instruction">OR B</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="6767"></span>6767</td>
<td class="instruction">JR NZ,<a href="662B.html#675e">Compute_Sprite_Position_19</a></td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="6769"></span>6769</td>
<td class="instruction">RET</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label">Compute_Sprite_Position_20</td>
<td class="address-2"><span id="676a"></span>676A</td>
<td class="instruction">LD (HL),$00</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="676c"></span>676C</td>
<td class="instruction">INC HL</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="676d"></span>676D</td>
<td class="instruction">LD (HL),$1F</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="676f"></span>676F</td>
<td class="instruction">XOR A</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="6770"></span>6770</td>
<td class="instruction">LD (IX+$23),A</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="6773"></span>6773</td>
<td class="instruction">LD A,$C8</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="6775"></span>6775</td>
<td class="instruction">CALL <a href="67B2.html">AddToScore</a></td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="6778"></span>6778</td>
<td class="instruction">LD E,$32</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="677a"></span>677A</td>
<td class="instruction">LD A,$01</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label">Compute_Sprite_Position_21</td>
<td class="address-2"><span id="677c"></span>677C</td>
<td class="instruction">LD B,E</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label">Compute_Sprite_Position_22</td>
<td class="address-2"><span id="677d"></span>677D</td>
<td class="instruction">OUT ($FE),A</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="677f"></span>677F</td>
<td class="instruction">DJNZ <a href="662B.html#677d">Compute_Sprite_Position_22</a></td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="6781"></span>6781</td>
<td class="instruction">EX AF,AF'</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="6782"></span>6782</td>
<td class="instruction">LD A,E</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="6783"></span>6783</td>
<td class="instruction">AND $18</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="6785"></span>6785</td>
<td class="instruction">LD D,A</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="6786"></span>6786</td>
<td class="instruction">EX AF,AF'</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="6787"></span>6787</td>
<td class="instruction">XOR $18</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="6789"></span>6789</td>
<td class="instruction">OR D</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="678a"></span>678A</td>
<td class="instruction">INC E</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="678b"></span>678B</td>
<td class="instruction">INC E</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="678c"></span>678C</td>
<td class="instruction">JR NZ,<a href="662B.html#677c">Compute_Sprite_Position_21</a></td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="678e"></span>678E</td>
<td class="instruction">CALL <a href="68B8.html">Handle_Life_Lost</a></td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="routine-comment" colspan="5">
<span id="6791"></span>
<div class="comments">
<div class="paragraph">
This entry point is used by the routines at <a href="6480.html">Handle_Title_Screen</a> and <a href="679C.html">CollectItem</a>.
</div>
</div>
</td>
</tr>
<tr>
<td class="asm-label">Compute_Sprite_Position_23</td>
<td class="address-2"><span id="6791"></span>6791</td>
<td class="instruction">XOR A</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="6792"></span>6792</td>
<td class="instruction">LD ($5FAA),A</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="6795"></span>6795</td>
<td class="instruction">LD ($5FAC),A</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="6798"></span>6798</td>
<td class="instruction">LD (IX+$23),A</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="679b"></span>679B</td>
<td class="instruction">RET</td>
<td class="comment-0" rowspan="1"></td>
</tr>
</table>
<table class="asm-navigation">
<tr>
<td class="prev">
Prev: <a href="6621.html">6621</a>
</td>
<td class="up">Up: <a href="../maps/all.html#662b">Map</a></td>
<td class="next">
Next: <a href="679C.html">679C</a>
</td>
</tr>
</table>
<footer>
<div class="release"></div>
<div class="copyright">&copy; 2026 Urbanscan<br />&copy; 1984 Gremlin Graphics Software Ltd<br />&copy; 2026 ArcadeGeek LTD.</div>
<div class="created">Created using <a href="https://skoolkit.ca">SkoolKit</a> 9.6.</div>
<div class="repository">Link to <a rel="noopener nofollow" href="https://github.com/pobtastic/percythepottypigeon/">Source code</a>.</div>
<div><a href="../dec/asm/26155.html">Switch to decimal</a>.</div>
</footer>
</body>
</html>